{
  "comments": [
    {
      "key": {
        "uuid": "81cb9864_6e5bfebb",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 19,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "is this expensive? I have not measured anything, just wondering because I don\u0027t see this done in a constructor",
      "range": {
        "startLine": 19,
        "startChar": 4,
        "endLine": 19,
        "endChar": 79
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16dff704_142ce649",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 19,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T07:56:32Z",
      "side": 1,
      "message": "Might be. It repeatedly opens a dbus connection and looks for a object. No idea how expensive this is (without measuring) but I will move it to the constructor. Doing so certainly does not hurt.",
      "parentUuid": "81cb9864_6e5bfebb",
      "range": {
        "startLine": 19,
        "startChar": 4,
        "endLine": 19,
        "endChar": 79
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d083a203_40bd82a6",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 19,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T14:20:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "16dff704_142ce649",
      "range": {
        "startLine": 19,
        "startChar": 4,
        "endLine": 19,
        "endChar": 79
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28579cf5_b1157e55",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 25,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "this description doesn\u0027t match what the code is doing, considering that there\u0027s no open/fopen inside and it\u0027s taking a FILE*",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9146bc3d_a053a5a7",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 25,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T07:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28579cf5_b1157e55",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7afdb59d_b1365d7b",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "I\u0027m not sure how to do it better, but I am not thrilled by this C-ish interface in a C++ project.\n\n- option 1, perhaps too Pythonic: return sd_lldp_neighbor, throw an exception on StopIteration :) when there\u0027s nothing left to read from that file\n- option 2, move that readout of size_t into the caller, so that this function becomes `sd_lldp_neighbor nextNeighbour(FILE* f, const size_t size)`\n- option 3, return std::optional\u003csd_lldp_neighbor\u003e\n- option 4, leave it as-is (but note that it requires you to call an explicit free later on)\n\nHmmm, noting that apparently the C API requires you to call sd_lldp_neighbor_unrefp as a deleter (doh!, I should have noticed), perhaps returning a properly wrapped unique_ptr with a matching dtor would be the way to go here? And just nullptr on error/EOF.",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e193215e_7475c2cf",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 29,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T14:20:04Z",
      "side": 1,
      "message": "I implemented a unique_ptr\u003c\u003e with custom deleter;",
      "parentUuid": "7afdb59d_b1365d7b",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d61d0f0_e5e99917",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "on Ethernet, jumbo frames can be longer than 9000 bytes, so this looks fishy",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59562d8a_52738ec1",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 38,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T07:33:23Z",
      "side": 1,
      "message": "This is stolen from systemd\u0027s code.",
      "parentUuid": "8d61d0f0_e5e99917",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee43672b_de346da1",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 38,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-10-01T12:19:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "59562d8a_52738ec1",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ade35f5_7bac6951",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 38,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-10-01T12:31:50Z",
      "side": 1,
      "message": "Sorry for reopening this but I will modify this code after you stop fiddling with the build :-) The le64toh is indeed not needed here. Also I will modify the comment regarding the packet size.",
      "parentUuid": "ee43672b_de346da1",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "353c5710_9f4a884d",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 38,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-10-08T18:03:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3ade35f5_7bac6951",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1cffb236_4de40b50",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 44,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "I think it\u0027s better to use a class which deallocates from its dtor, for example vector. It will get you a continuous range in memory, so it should be possible to pass vec.data() to the sd_lldp_neighbor_from_raw().",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8c41a01_76c9bee1",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 44,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T07:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1cffb236_4de40b50",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce749fbc_8da6292b",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 60,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "this is using the implicit, default logger, which is probably not desirable considering that you put in an extra logger for sysrepo",
      "range": {
        "startLine": 60,
        "startChar": 8,
        "endLine": 60,
        "endChar": 21
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99f8a29c_c23146c5",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 60,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-30T09:34:10Z",
      "side": 1,
      "message": "Please see modified initLogs function (I\u0027m overriding default logger)",
      "parentUuid": "ce749fbc_8da6292b",
      "range": {
        "startLine": 60,
        "startChar": 8,
        "endLine": 60,
        "endChar": 21
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d43f9f2_c1f4d96c",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 63,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "I would prefer this to be a prefix passed to the constructor, so that it\u0027s mockable",
      "range": {
        "startLine": 63,
        "startChar": 35,
        "endLine": 63,
        "endChar": 61
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c923e46_dd7ac1cd",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 63,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T14:20:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d43f9f2_c1f4d96c",
      "range": {
        "startLine": 63,
        "startChar": 35,
        "endLine": 63,
        "endChar": 61
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07d216c6_0996af8d",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "perhaps I\u0027m taking it too far, but what about using dtors here a la https://stackoverflow.com/questions/26360916/using-custom-deleter-with-unique-ptr ? Note the caveats in there.",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6c87951_b9cbf853",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 64,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T14:20:04Z",
      "side": 1,
      "message": "rewritten using streams",
      "parentUuid": "07d216c6_0996af8d",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "759f8e65_4b46728f",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 66,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "My first guess would be that it\u0027s an error if that file doesn\u0027t exist, isn\u0027t it?\n\nIs there a case where that file won\u0027t be present? LLDP configured in systemd-networkd, for example?",
      "range": {
        "startLine": 66,
        "startChar": 20,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2364f84f_b8c51681",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 66,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T07:56:32Z",
      "side": 1,
      "message": "This happens when LLDP is not enabled for the given interface. I can (now) list only *all* links, not specifically those that have LLDP enabled. There is neither a \"hasLLDPEnabled\" property on the dbus link interface nor a method that would list active lldp interfaces.\n\nShould I implement one for the systemd? I *think* it would not be that hard.",
      "parentUuid": "759f8e65_4b46728f",
      "range": {
        "startLine": 66,
        "startChar": 20,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d03241f9_ae0225d5",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 66,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-29T20:40:36Z",
      "side": 1,
      "message": "at the call we agreed that this is a nice idea for a next iteration of that systemd patch",
      "parentUuid": "2364f84f_b8c51681",
      "range": {
        "startLine": 66,
        "startChar": 20,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4555336_15902613",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 66,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-10-01T12:19:10Z",
      "side": 1,
      "message": "the TODO comment is in the code, thanks",
      "parentUuid": "d03241f9_ae0225d5",
      "range": {
        "startLine": 66,
        "startChar": 20,
        "endLine": 66,
        "endChar": 25
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "142e3af1_d261eb97",
        "filename": "src/LLDP.cpp",
        "patchSetId": 15
      },
      "lineNbr": 77,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "I see that networkctl is doing that as well, but it rubs me the wrong way. Just saying.",
      "range": {
        "startLine": 77,
        "startChar": 12,
        "endLine": 77,
        "endChar": 18
      },
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7167583_d19598c4",
        "filename": "src/LLDP.h",
        "patchSetId": 15
      },
      "lineNbr": 30,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "Why is this one static and the getNeighbours() not? I would have expected a constructor which gets some parameter like \"where to read from\", e.g., a D-Bus path (or even a D-Bus-like proxy?) for listing interfaces, and a filesystem path for location of the data file.",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d41f98aa_85c1085b",
        "filename": "src/LLDP.h",
        "patchSetId": 15
      },
      "lineNbr": 30,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T14:20:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7167583_d19598c4",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd2e8f45_fd7369cf",
        "filename": "tests/lldp-systemd.cpp",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "This should use some mocked files for actual LLDP data and a D-Bus interface (?) for interface names. I know you know this, but my comments will be unmarking this as a WIP, so I\u0027m putting that comment here anyway so that I can still remember that next Tuesday.",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26470dfd_b41f3c6e",
        "filename": "tests/lldp-systemd.cpp",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-29T15:50:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd2e8f45_fd7369cf",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aeb2b1f5_86abc5d6",
        "filename": "tests/lldp-systemd.cpp",
        "patchSetId": 15
      },
      "lineNbr": 6,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2020-09-24T22:23:16Z",
      "side": 1,
      "message": "debugging leftover?",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9030baa6_5304817e",
        "filename": "tests/lldp-systemd.cpp",
        "patchSetId": 15
      },
      "lineNbr": 6,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2020-09-25T14:20:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aeb2b1f5_86abc5d6",
      "revId": "dff635633b2f0bffd23315372a178e1aa1bec4d6",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68",
      "unresolved": false
    }
  ]
}